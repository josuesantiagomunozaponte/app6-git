YUI.add("hermes-lang-models_es-us",function(e,t){e.Intl.add("hermes/models","es-US",{YOUR_PHOTOSTREAM:["Tu galer\u00eda"],USER_PHOTOSTREAM:["La galer\u00eda de ","${name}"],USER_PHOTOS:["Las fotos de ","${name}"],PHOTOSTREAM:["Galer\u00eda"],YOUR_FAVORITES:["Tus favoritos"],USER_FAVORITES:["Favoritos de ","${name}"],FAVORITES:["Favoritos"],ZERO_PHOTOS:["0 fotos"],ONE_PHOTO:["1 foto"],MULTIPLE_PHOTOS:["${photos}"," fotos"],PLURAL_PHOTOS:[{type:"plural",valueName:"count",options:{one:"${#} foto",other:"${#} fotos"}}],ONE_VIDEO:["1 video"],ONE_PHOTO_AND_ONE_VIDEO:["Una foto y un video"],ONE_PHOTO_AND_ONE_VIDEO_AMP:["1 foto y 1 video"],MULTIPLE_PHOTOS_AND_ONE_VIDEO:["${photos}"," fotos y 1 video"],MULTIPLE_PHOTOS_AND_ONE_VIDEO_AMP:["${photos}"," fotos y 1 video"],MULTIPLE_VIDEOS:["${videos}"," videos"],ONE_PHOTO_AND_MULTIPLE_VIDEOS:["1 foto y ","${videos}"," videos"],ONE_PHOTO_AND_MULTIPLE_VIDEOS_AMP:["1 foto y ","${videos}"," videos"],MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS:["${photos}"," fotos y ","${videos}"," videos"],MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS_AMP:["${photos}"," fotos y ","${videos}"," videos"],PHOTO_LIST:["Lista de fotos"],EXPlORE_TITLE:["Explorar ","${id}"],BAD_DATE_TYPE:["Tipo de fecha incorrecto"],ZERO_ITEMS:["0 art\u00edculos"],ONE_ITEM:["1 elemento"],MULTIPLE_ITEMS:["${items}"," art\u00edculos"]})},"@VERSION@",{requires:["intl"]});
YUI.add("hermes-lang-common_es-us",function(e,t){e.Intl.add("hermes/common","es-US",{SIGN_UP:["Reg\u00edstrate"],YOU:["T\u00fa"],PHOTOSTREAM:["Galer\u00eda"],SETS:["Juegos"],ALBUMS:["\u00c1lbumes"],MAP:["Mapa"],FAVORITES:["Favoritos"],GALLERIES:["Galer\u00edas"],COLLECTIONS:["Colecciones"],ARCHIVES:["Archivos"],TAGS:["Etiquetas"],PHOTOS_OF:["Fotos acerca de"],PROFILE:["Perfil"],POPULAR:["Populares"],EXPLORE:["Explorar"],ACTIVITY:["Actividad reciente"],STATS:["Estad\u00edsticas"],ORGANIZE:["Organizar"],HELP:["Ayuda"],SETTINGS:["Ajustes"],SIGN_OUT:["Salir"],FLICKRMAIL:["FlickrMail"],ERROR:["Error"],OK:["OK"],OOPS:["\u00a1Uy!"],SIGN_IN:["Iniciar sesi\u00f3n"],FORGET_IT:["Olv\u00eddalo"],WARNING:["Advertencia"],DONE:["Hecho"],ZOINKS:["\u00a1Caramba!"],CANCEL:["Cancelar"],ON:["Activada"],OFF:["Desactivada"],ABOUT:["Acerca de"],JOBS:["Empleos"],BLOG:["Blog"],APPS:["Aplicaciones"],BRAND:["Marca"],DEVELOPERS:["Desarrolladores"],STATUS:["Estado"],COMMUNITY_GUIDELINES:["Normas de la comunidad"],REPORT_ABUSE:["Denunciar abuso"],PRIVACY:["Privacidad"],TERMS:["Condiciones"],YAHOO_SAFELY:["Yahoo Seguridad"],FEEDBACK:["Comentarios"],MOBILE:["M\u00f3vil"],APP_GARDEN:["App Garden"],COMMUNITY:["Comunidad"],API_DOC:["Doc de API"],DEVELOPER_GUIDE:["Gu\u00eda del desarrollador"],DEVELOPER_BLOG:["Blog del desarrollador"],HELP_FORUM:["Foro de ayuda"],GUIDELINES:["Reglas de uso"],NUMBER:[{type:"number",valueName:"num"}],RETRY:["Reintentar"],EDIT:["Editar"],MORE:["M\u00e1s"],DELETE:["Eliminar"],LOADING:["Cargando"],FOLLOW:["Seguir"],FOLLOWING:["Siguiendo"],UNFOLLOW:["Dejar de seguir"],FRIEND:["Amigo"],FRIENDS:["Amigos"],FAMILY:["Familia"],PUBLIC:["P\u00fablico"],FRIENDS_AND_FAMILY:["Amigos y familia"],FRIEND_AND_FAMILY:["Amigos y familia"],ALL:["Todo"],A_YAHOO_COMPANY:["Flickr, una compa\u00f1\u00eda de Yahoo"],A_YAHOO_COMPANY_WITH_LINK:['Flickr, <a href="https://info.yahoo.com">una compa\u00f1\u00eda de Yahoo</a>'],A_YAHOO_COMPANY_WITH_TRACKED_LINK:['Flickr, <a href="https://info.yahoo.com" data-track="footer-yahoo">una compa\u00f1\u00eda de Yahoo</a>'],CONFIRMATION:["Confirmaci\u00f3n"],FAVORITE:["Favorito"],SEARCH:["Buscar"],CONFIRM:["Confirmar"],SELECT:["Seleccionar"],NEW:["Nuevo"],LOADING_WITH_ELLIPSES:["Cargando..."],NONE:["Ninguna"],TITLE:["T\u00edtulo"],DESCRIPTION:["Descripci\u00f3n"],DECLINE:["Rechazar"],ACCEPT:["Aceptar"],CIRCA:["Alrededor de"],SOMETIME_IN:["En..."],JANUARY:["Enero"],FEBRUARY:["Febrero"],MARCH:["Marzo"],APRIL:["Abril"],MAY:["Mayo"],JUNE:["Junio"],JULY:["Julio"],AUGUST:["Agosto"],SEPTEMBER:["Septiembre"],OCTOBER:["Octubre"],NOVEMBER:["Noviembre"],DECEMBER:["Diciembre"],SAVE:["Guardar"],PLEASE_TRY_AGAIN:["Int\u00e9ntalo nuevamente."],YES:["S\u00ed"],SQUARE:["Cuadrado"],THUMBNAIL:["Vista en miniatura"],SMALL:["Peque\u00f1a"],MEDIUM:["Mediana"],LARGE:["Grande"],ORIGINAL:["Original"],REPLACE:["Reemplazar"],SAVING:["Guardando"],REPLACING:["Reemplazando"],JOIN:["Unirse"],SELECTED:[{type:"plural",valueName:"count",options:{one:"${#} elemento seleccionado",other:"${#} elementos seleccionados"}}],PREVIEW:["Vista previa"],DATE_TAKEN:["Fecha de captura"],DATE_POSTED:["Fecha de publicaci\u00f3n"],DATE_UPLOADED:["Fecha de subida"],PEOPLE:["Gente"],BETA:["Beta"],INVALID_DATE:["Fecha no v\u00e1lida."],INVALID_DATE_TAKEN:["Fecha en la que se tom\u00f3 no v\u00e1lida."],INVALID_DATE_POSTED:["Fecha de publicaci\u00f3n no v\u00e1lida."],INVALID_DATE_UPLOADED:["Fecha de subida no v\u00e1lida."],FUTURE_DATE_POSTED:["La fecha de publicaci\u00f3n est\u00e1 establecida en el futuro."],FUTURE_DATE_UPLOADED:["La fecha de subida est\u00e1 establecida en el futuro."],INVALID_DATE_VALUE:["Una o m\u00e1s de las fechas que ingresaste son inv\u00e1lidas."],INVALID_DATE_TAKEN_VALUE:["El valor Fecha de captura es inv\u00e1lido."],INVALID_DATE_POSTED_VALUE:["El valor Fecha de publicaci\u00f3n es inv\u00e1lido."],INVALID_DATE_UPLOADED_VALUE:["El valor Fecha de subida es inv\u00e1lido."],JOIN_FLICKR:["Unirse a Flickr"],DATE_UPLOADED_BEFORE_ACCOUNT:["La fecha de subida debe ser posterior a la fecha de creaci\u00f3n de la cuenta de ",{type:"date",valueName:"intlDate",format:"long"},"."],DOWNLOAD:["Descargar"],CHOOSE_VALID_DATE:["Selecciona una fecha v\u00e1lida."],CHANGE:["Cambiar"],FUTURE_DATE_TAKEN:["La fecha de captura est\u00e1 establecida en el futuro."],BY_USER:["por ","${user}"],BY_YOU:["por TI"],PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC:["Ocurri\u00f3 un problema al subir tu foto. Vuelve a intentarlo."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE:["Al parecer, el tipo de archivo de esta foto no es v\u00e1lido. Sube una foto en formato PNG o JPG."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE:["Al parecer, esta foto es demasiado grande para subirse. Podemos subir fotos con un tama\u00f1o m\u00e1ximo de 250\u00a0MB."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT:["Selecciona solo una foto para subir."],PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY:['Al parecer, esta foto no cumple con los requisitos m\u00ednimos para su impresi\u00f3n. Selecciona una foto de al menos 975 &times; 825\u00a0p\u00edxeles. M\u00e1s informaci\u00f3n sobre los <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567" target="_blank">requisitos</a> para la impresi\u00f3n.'],PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE:['Lo sentimos, pero no podemos imprimir fotos con espacios de colores CMYK o ProPhoto RGB. Recomendamos fotos con un espacio de colores sRGB. <a href="https://help.yahoo.com/kb/flickr/creations-faq-sln22216.html?impressions=true#cont33" target="_blank">M\u00e1s informaci\u00f3n</a>.'],PHOTO_SELECTOR_BACK_TO_ALBUM_LIST:["Volver a la lista de \u00e1lbumes"],PHOTO_SELECTOR_BACK_TO_CATEGORY_LIST:["Volver a la lista de categor\u00edas"],PHOTO_SELECTOR_BACK_TO_SEARCH_LIST:["Volver a la lista de b\u00fasqueda"],PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS:["No hay fotos p\u00fablicas."],PHOTO_SELECTOR_EMPTY_PHOTOS:["No hay fotos."],PHOTO_SELECTOR_NO_ALBUMS:["No hay \u00e1lbumes."],MARKETPLACE:["Mercado"],USERS_FAVES:["Favoritos de ","${who}"
],USERS_ALBUMS:["\u00c1lbumes de ","${who}"],LOAD_MORE_RESULTS:["Cargar m\u00e1s resultados"],CREATE_AN_ACCOUNT:["Crear una cuenta"],SIGN_IN_MESSAGE:["Iniciar sesi\u00f3n en Flickr usando tu cuenta de Yahoo."],MISMATCHED_NSID_ERROR:['Algo sali\u00f3 mal. Haz clic en "Aceptar" para volver a cargar la p\u00e1gina, o en "Cancelar" si deseas seguir navegando la p\u00e1gina (no obstante, no podr\u00e1s realizar ninguna acci\u00f3n).'],NETWORK_CONNECTIVITY_ISSUE:['Se produjo un error al leer los datos de nuestro servidor.  Verifique los ajustes de la red y las configuraciones de los plugin o las extensiones del navegador.<br><br>Haga clic en "Aceptar" para volver a cargar la p\u00e1gina o en "Cancelar" si desea seguir navegando por la p\u00e1gina (aunque es posible que no pueda realizar ninguna acci\u00f3n).'],IE_STORAGE_ISSUE:['Se produjo un error al mostrar las im\u00e1genes en su navegador.  Verifique la configuraci\u00f3n de su navegador en <b>Herramientas > Opciones de Internet > pesta\u00f1a General, Historial de navegaci\u00f3n, bot\u00f3n \'Configuraci\u00f3n\' > cach\u00e9s y bases de datos</b>.<br><br>Haga clic en "Aceptar" para volver a cargar la p\u00e1gina o en "Cancelar" si desea seguir navegando por la p\u00e1gina (aunque es posible que no pueda realizar ninguna acci\u00f3n).'],PHOTO_REMOVE_ERROR:["Se produjo un error al eliminar la foto. Vuelve a intentarlo."],LEARN_MORE:["M\u00e1s informaci\u00f3n"],LEARN_MORE_ABOUT_PRO:["M\u00e1s informaci\u00f3n sobre Flickr Pro"],EVERYTHING:["Todo"],ALPHA:["Alfa"],BACK:["Atr\u00e1s"],UNTITLED:["Sin t\u00edtulo"],HIDE_PHOTOS_FROM_PERSON:["Ocultar temporalmente todas las fotos de esta persona"],SHOW_MORE:["Mostrar m\u00e1s"],CHOOSE_FILE:["Elegir un archivo"],PHOTO_BOOKS:["Libros de fotos"],WALL_ART:["Cuadro"],UPLOADING:["Subiendo"],NUMERIC_PROGRESS_COUNT:["${progress}"," de ","${total}"],UPLOAD_DROP_TARGET:["\u00a1Su\u00e9ltalas! Est\u00e1n en buenas manos."],DRAG_AND_DROP:["Puedes arrastrar y soltar fotos en cualquier parte de esta p\u00e1gina"],OR:["o"],SELECT_FILES_TO_UPLOAD:["Selecciona archivos para subir"],INSTALL:["Instalar"],INSTALL_FLICKR_UPLOADER_FOR_MAC:["Instala Flickr Uploadr para Mac para respaldar toda tu colecci\u00f3n de fotos de forma r\u00e1pida y segura."],INSTALL_FLICKR_UPLOADER_FOR_WINDOWS:["Instala Flickr Uploadr para Windows para respaldar toda tu colecci\u00f3n de fotos de forma r\u00e1pida y segura."],FLICKR_IS_ALMOST_CERTAINLY:["Flickr ciertamente es una de las mejores aplicaciones del mundo para administrar y compartir fotos en l\u00ednea. Muestra tus fotos y videos favoritos al mundo, comparte tu contenido de forma segura y privada con tu familia y amigos o carga fotos y videos que hayas tomado con el tel\u00e9fono a tu blog."],TOGGLE_SLIDESHOW:["Alternar diapositivas"],UPLOAD_MORE_INFO:['Para conocer los formatos de archivos que admitimos, <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">haz clic aqu\u00ed</a>.'],UPLOAD_ERROR_TITLE:["Oh, oh..."],UPLOAD_ERROR_CATEGORY_INVALID:['No admitimos este tipo de archivos o bien los archivos est\u00e1n da\u00f1ados. <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">Haz clic aqu\u00ed</a> para obtener m\u00e1s informaci\u00f3n.'],UPLOAD_ERROR_CATEGORY_GENERIC:['No se pudieron subir estos archivos. Intenta subirlos nuevamente. <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">Haz clic aqu\u00ed</a> para obtener m\u00e1s informaci\u00f3n.'],TRY_MDOT:["Prueba Flickr optimizado para tu dispositivo m\u00f3vil"],VIDEO_NOT_SUPPORTED:["Lo sentimos. Tu navegador no admite videos HTML5."],UNBLOCK:["Desbloquear"],START_SLIDESHOW:["Iniciar diapositivas"],EACH_FLICKR_ACCOUNT_HAS_STORAGE:["Cada cuenta de Flickr ofrece 1,000 GB de almacenamiento gratuito para fotos."],BUY_LICENSE:["Adquirir licencia"],BUY_PHOTO:["Comprar foto"],BUY:["Comprar"],LICENSE_PHOTO:["Foto con licencia"],HAVE_YAHOO_ACCOUNT:["\u00bfTienes una cuenta de Yahoo?"],SIGN_UP_WITH_YAHOO:["Iniciar sesi\u00f3n con Yahoo"],SIGN_INTO_FLICKR:["Iniciar sesi\u00f3n en Flickr"],NEVER_DELETE_WITH_ONE_TB:["Con 1 TB de almacenamiento gratuito, nunca m\u00e1s tendr\u00e1s que eliminar otra foto."],CLICK_BUTTON_THIRD_PARTY:["Si haces clic en este bot\u00f3n, entrar\u00e1s a un sitio web de terceros."],LICENSE_TITLE_0:["Todos los derechos reservados"],LICENSE_DESC_0:["Debes solicitar permiso al creador para usar esta obra."],LICENSE_TITLE_1:["Reconocimiento, no comercial, compartir igual"],LICENSE_DESC_1:["Puedes usar esta obra con fines no comerciales, siempre que se reconozca la autor\u00eda del creador. Debes permitir que tus obras se utilicen bajo los mismos t\u00e9rminos."],LICENSE_TITLE_2:["Reconocimiento, no comercial"],LICENSE_DESC_2:["Puedes usar esta obra con fines no comerciales, siempre que se reconozca la autor\u00eda del creador."],LICENSE_TITLE_3:["Reconocimiento, no comercial, sin obra derivada"],LICENSE_DESC_3:["Puedes usar esta obra, en su formato original, sin modificarla y con fines no comerciales, siempre que se reconozca la autor\u00eda del creador."],LICENSE_TITLE_4:["Solo reconocimiento"],LICENSE_DESC_4:["Puedes usar esta obra, siempre que se reconozca la autor\u00eda del creador."],LICENSE_TITLE_5:["Reconocimiento, compartir igual"],LICENSE_DESC_5:["Puedes usar esta obra, siempre que se reconozca la autor\u00eda del creador. Debes permitir que tus obras se utilicen bajo los mismos t\u00e9rminos."],LICENSE_TITLE_6:["Reconocimiento, sin obra derivada"],LICENSE_DESC_6:["Puedes usar esta obra, en su formato original, sin modificarla, siempre que se reconozca la autor\u00eda del creador."],LICENSE_TITLE_7:["Sin restricciones conocidas"],LICENSE_DESC_7:["La persona o la organizaci\u00f3n que publique la obra no est\u00e1 al tanto de ninguna restricci\u00f3n. Debes revisar la obra antes de empezar a usarla."],LICENSE_TITLE_8:["Obras del gobierno de los EE. UU."],LICENSE_DESC_8
:["La protecci\u00f3n de propiedad intelectual no est\u00e1 disponible para ninguna obra del Gobierno de los Estados Unidos."],LICENSE_TITLE_9:["Obra dedicada de dominio p\u00fablico"],LICENSE_DESC_9:["Puedes usar esta obra, dado que ya no se aplican los derechos de autor."],LICENSE_TITLE_10:["Obra de dominio p\u00fablico"],LICENSE_DESC_10:["Puedes usar esta obra, dado que los derechos de autor caducaron."],TRENDING:["Tendencias"],GROUP_YOUR_BEST_SHOT:["Tu Mejor Foto 2015"],GROUP_YOUR_BEST_SHOT_2016:["Tu Mejor Foto 2016"],DELETED_USER:["borrado"],EXPLORE_SLOW:["En este momento, estamos teniendo problemas para mostrar las funciones de exploraci\u00f3n. Vuelve a intentarlo."],MODULES_BLOCKED:['Se produjo un error al cargar los m\u00f3dulos necesarios para mostrar esta p\u00e1gina.  Deshabilita las extensiones del navegador que pueden estar bloqueando los recursos de la p\u00e1gina.<br><br>Despu\u00e9s de deshabilitar las extensiones, haz clic en "Aceptar" para volver a cargar la p\u00e1gina o en "Cancelar" si deseas seguir navegando por la p\u00e1gina (aunque es posible que no puedas realizar ninguna acci\u00f3n).'],HOME:["Inicio"],MAIN:["Principal"],SECONDARY:["Secundaria"],FILTER:["Filtro"],CLOSE:["Cerrar"],USER_ICON:["\u00cdcono de usuario"],GROUP_ICON:["\u00cdcono de grupo"],AD_ICON:["\u00cdcono de anuncio"],ADD_TO_FAVORITES:["Agregar a Favoritos"],LEFT_ARROW:["Flecha izquierda"],RIGHT_ARROW:["Flecha derecha"],DONT_SHOW_IN_FEED:["No mostrar en mi fuente"],SHOW_IN_FEED:["Mostrar en mi fuente"],SEARCH_FOR_SIMILAR_PHOTOS:["Buscar fotos similares"],SEARCH_FOR_SIMILAR_PHOTOS_WITH_TERM:["Busca fotos similares con el t\u00e9rmino de b\u00fasqueda original"],FAVES_SHORT:["Favoritos"],GROUP_BAN_USER:["Bloquear usuario del grupo"],GROUP_BAN_USER_REMOVE_PHOTOS:["Bloquear usuario del grupo y eliminar sus fotos"],REFRESH:["Actualizar"]})},"@VERSION@",{requires:["intl"]});
YUI.add("flickr-groups-pools-getContext-fetcher",function(e,t){"use strict";function n(t){var n={photo_id:t.photoId,extras:e.APIHelper.request.getRebootPhotoExtras()+",datecreate",num_prev:t.numNext,num_next:t.numPrev,get_group_info:1};if(t.id)n.group_id=t.id;else{if(!t.pathAlias)throw new Error("[flickr-groups-pools-getPhotos-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return n}function r(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f=[],l=[],c=s.proxy(n.photoId),h,p,d,v,m,g,y=[];return h=r.prevphotos,p=r.nextphotos,l=e.APIHelper.response.parsePhotos({photos:h.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),f=e.APIHelper.response.parsePhotos({photos:p.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),g=i.getValue(n.id,"photoContextList"),v=g.hasMinBoundary?g.hasMinBoundary():!1,m=g.hasMaxBoundary?g.hasMaxBoundary():!1,d=g.getList(),y=e.APIHelper.response.addOrReplaceListByContext({model:c,next:l,prev:f.reverse(),current:d,hasMin:v,hasMax:m,numNext:n.numNext,numPrev:n.numPrev}),i.setValue(n.id,"photoContextList",y),{next:l,previous:f.reverse()}}function i(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.pools.getContext",this._processParams(n),!0),r.getModelRegistry("group-pool-models"),r.getModelRegistry("photo-models"),r.getModelRegistry("person-models"),r.getModelRegistry("photo-engagement-models"),r.getModelRegistry("photo-stats-models")]).then(function(e){return i._processResponse(e,n)},function(e){throw e.code===2&&e.message==="Photo not in pool"&&(e.notInContext=!0),e}).then(null,e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getContext"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-models","photo-engagement-models","photo-stats-models","group-models"]});
YUI.add("flickr-groups-pools-add-creator",function(e,t){"use strict";function n(t){var n={photo_id:t.photoID,group_id:e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID)};return n}function r(e,t){var n=e.apiResponse,r=e.groupPoolModel,i=e.photoModel,s=e.photoGroupsModelRegistry,o=e.photoContextsModelRegistry,u=e.unfilteredGroupPoolModel;if(n.stat==="ok")return r&&!r.hasPhoto(i.getValue("id"))&&(r.addPhotoLocal(i),r.getValue("group").setValue("poolCount",r.getValue("group").getValue("poolCount")+1)),u&&u.hasPhoto(i.getValue("id"))&&u.addPhotoLocal(i),s.exists(t.photoID)&&!s.getValue(t.photoID,"groups").getFromListByID(t.unfilteredGroupId)&&(s.getValue(t.photoID,"groups").unshift(r),s.setValue(t.photoID,"total",s.getValue(t.photoID,"total")+1)),o.exists(t.photoID)&&!o.getValue(t.photoID,"contexts").getFromListByID(t.unfilteredGroupId)&&(o.setValue(t.photoID,"totalGroups",o.getValue(t.photoID,"totalGroups")+1),o.getValue(t.photoID,"contexts").push(r)),r}function i(n,r){var i=this,s=this._processParams(n),o=n.registryName||"group-pool-models",u={apiResponse:r.callAPI("flickr.groups.pools.add",s),groupPoolModel:r.getModel(o,n.groupID),photoModel:r.getModel("photo-models",n.photoID),photoGroupsModelRegistry:r.getModelRegistry("photo-groups-models"),photoContextsModelRegistry:r.getModelRegistry("photo-contexts-models")};return n.unfilteredGroupId=s.group_id,o!=="group-pool-models"&&(u.unfilteredGroupPoolModel=r.getModel("group-pool-models",n.unfilteredGroupId)),(new e.FlickrPromise(u)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-groups-pools-add"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-pools-remove-deletor",function(e,t){"use strict";function n(t){var n={photo_id:t.photoID,group_id:e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID)};return n}function r(e,t){var n=e.apiResponse,r=e.groupPoolModelRegistry,i=e.photoModelRegistry,s=e.photoGroupsModelRegistry,o=e.photoContextsModelRegistry,u=e.unfilteredGroupPoolModelRegistry;if(n.stat==="ok")return o.exists(t.photoID)&&o.getValue(t.photoID,"contexts").getFromListByID(t.unfilteredGroupId)&&(o.setValue(t.photoID,"totalGroups",o.getValue(t.photoID,"totalGroups")-1),o.getValue(t.photoID,"contexts").removeFromList(t.unfilteredGroupId)),s.exists(t.photoID)&&s.getValue(t.photoID,"groups").getFromListByID(t.unfilteredGroupId)&&(s.setValue(t.photoID,"total",s.getValue(t.photoID,"total")-1),s.getValue(t.photoID,"groups").removeFromList(t.unfilteredGroupId)),r&&(r.hasPhoto(i.getValue("id"))&&r.removePhotoLocal(i),r.getValue("group").setValue("poolCount",r.getValue("group").getValue("poolCount")-1)),u&&u.hasPhoto(i.getValue("id"))&&u.removePhotoLocal(i),r}function i(n,r){var i=this,s=this._processParams(n),o=n.registryName||"group-pool-models",u={apiResponse:r.callAPI("flickr.groups.pools.remove",s),groupPoolModelRegistry:r.getModel(o,n.groupID),photoModelRegistry:r.getModel("photo-models",n.photoID),photoGroupsModelRegistry:r.getModelRegistry("photo-groups-models"),photoContextsModelRegistry:r.getModelRegistry("photo-contexts-models")};return n.unfilteredGroupId=s.group_id,o!=="group-pool-models"&&(u.unfilteredGroupPoolModelRegistry=r.getModel("group-pool-models",n.unfilteredGroupId)),(new e.FlickrPromise(u)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelDeletors")["flickr-groups-pools-remove"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-invite-photo-invite-creator",function(e,t){"use strict";function n(n,r){var i={},s=e.Models["group-pool-models"].extractGroupFromCompoundId(n.groupID);return i.photo_id=n.photoID,i.group_id=s,e.Promise.all([r.callAPI("flickr.groups.invite.photo.invite",i),r.getModel("group-pool-models",s),r.getModelRegistry("photo-group-invitation-models"),r.getModelRegistry("photo-group-invitations-models")]).then(function(e){var t=e[0],i=e[1],o=e[2],u=e[3],a,f,l;if(t.stat==="ok")return a=[n.photoID,s].join("-"),f={id:a,photoId:n.photoID,groupId:s,invitedBy:r.getViewer().nsid},l=o.exists(a)?o.proxy(a):o.add(f),u.exists(n.photoID)&&!u.getValue(n.photoID,"invitations").getFromListByID(a)&&(u.getValue(n.photoID,"groups").prependToList(i),u.getValue(n.photoID,"invitations").prependToList(l),u.setValue(n.photoID,"total",u.getValue(n.photoID,"total")+1)),i},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-groups-invite-photo-invite"]={run:n}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-invite-photo-cancel-deletor",function(e,t){"use strict";function n(n,r){var i={},s=e.Models["group-pool-models"].extractGroupFromCompoundId(n.groupID);return i.photo_id=n.photoID,i.group_id=s,e.Promise.all([r.callAPI("flickr.groups.invite.photo.cancel",i),r.getModel("group-pool-models",s),r.getModelRegistry("photo-group-invitation-models"),r.getModelRegistry("photo-group-invitations-models")]).then(function(e){var t=e[0],r=e[1],i=e[2],o=e[3],u;if(t.stat==="ok")return u=[n.photoID,s].join("-"),o.exists(n.photoID)&&o.getValue(n.photoID,"invitations").getFromListByID(u)&&(o.setValue(n.photoID,"total",o.getValue(n.photoID,"total")-1),o.getValue(n.photoID,"groups").removeFromList(s),o.getValue(n.photoID,"invitations").removeFromList(u)),i.remove(u),r},e.FetcherErrorLogger(t))}e.namespace("ModelDeletors")["flickr-groups-invite-photo-cancel"]={run:n}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("group-pool-by-person-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.Models["group-pool-models"],{name:this.name,attributes:e.merge(e.Models["group-pool-models"].prototype.attributes,{personFilter:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:null}})})},"@VERSION@",{requires:["attribute-helpers","group-pool-models","flickr-groups-pools-getPhotos-fetcher","flickr-groups-pools-add-creator","flickr-groups-pools-remove-deletor","flickr-groups-invite-photo-invite-creator","flickr-groups-invite-photo-cancel-deletor"]});
YUI.add("group-pool-by-tag-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.Models["group-pool-models"],{name:this.name,attributes:{tagFilter:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:null}}})},"@VERSION@",{requires:["attribute-helpers"]});
YUI.add("flickr-groups-pools-getPhotos-fetcher",function(e,t){"use strict";function n(t){var n={extras:e.APIHelper.request.getRebootPhotoExtras()+","+e.APIHelper.request.getRebootGroupExtras(),per_page:t.perPage||20,page:t.page||1,get_group_info:1};if(t.id)n.group_id=e.Models["group-pool-models"].extractGroupFromCompoundId(t.id);else{if(!t.pathAlias)throw new Error("[flickr-groups-pools-getPhotos-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return t.withPhotoId&&(n.jump_to=t.withPhotoId),t.privacyFilter&&(n.privacy_filter=t.privacyFilter),t.safeSearch&&(n.safe_search=t.safeSearch),t.media&&(n.media=t.media),t.personFilter&&(n.user_id=t.personFilter),t.tagFilter&&(n.tags=t.tagFilter),n}function r(t,n){var r=t.apiResponse,i=t.photoModelRegistry,s=t.personModelRegistry,o=t.groupPoolModelRegistry,u=t.groupPoolByPersonModelRegistry,a=t.groupPoolByTagModelRegistry,f=t.photoEngagementModelRegistry,l=t.photoStatsModelRegistry,c=t.groupModelRegistry,h,p,d,v;return r.group.pathAlias=r.group.pathalias===""?null:r.group.pathalias,h=c.parseGroupModel(r.group.nsid,r.group.pathAlias,r.group),c.addOrUpdate(h),p={pathAlias:r.group.pathAlias,group:c.proxy(h.id),filteredPoolCount:r.group.poolCount},d=e.APIHelper.response.parsePhotos({photos:r.photos.photo,personModelRegistry:s,photoModelRegistry:i,photoEngagementModelRegistry:f,photoStatsModelRegistry:l}),p.photoPageList={perPage:r.photos.perpage,page:r.photos.page,pageContent:d,totalItems:p.filteredPoolCount},n.personFilter?(p.id=e.Models["group-pool-models"].buildCompoundId(r.group.nsid,n.personFilter),p.personFilter=n.personFilter,p.filteredPoolCount=p.photoPageList.totalItems=r.photos.total,v=u):n.tagFilter?(p.id=e.Models["group-pool-models"].buildCompoundId(r.group.nsid,n.tagFilter),p.tagFilter=n.tagFilter,p.filteredPoolCount=p.photoPageList.totalItems=r.photos.total,v=a):(n.id&&n.id!==r.group.nsid?p.id=n.id:p.id=r.group.nsid,v=o),v.exists(p.id)?(v.setValue(p.id,"photoPageList",p.photoPageList),v.setValue(p.id,"group",p.group),v.setValue(p.id,"pathAlias",p.pathAlias),v.setValue(p.id,"filteredPoolCount",parseInt(p.filteredPoolCount,10)||0),p.group.setValue("poolCount",parseInt(r.group.poolCount,10)||0)):v.add(p),d}function i(n,r){var i=this,s=this._processParams(n),o={apiResponse:r.callAPI("flickr.groups.pools.getPhotos",s,!0),photoModelRegistry:r.getModelRegistry("photo-models"),personModelRegistry:r.getModelRegistry("person-models"),groupPoolModelRegistry:r.getModelRegistry("group-pool-models"),photoEngagementModelRegistry:r.getModelRegistry("photo-engagement-models"),photoStatsModelRegistry:r.getModelRegistry("photo-stats-models"),groupModelRegistry:r.getModelRegistry("group-models")};return n.personFilter&&(o.groupPoolByPersonModelRegistry=r.getModelRegistry("group-pool-by-person-models")),n.tagFilter&&(o.groupPoolByTagModelRegistry=r.getModelRegistry("group-pool-by-tag-models")),(new e.FlickrPromise(o)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getPhotos"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-models","person-models","photo-engagement-models","photo-stats-models","group-models","group-pool-models","group-pool-by-person-models","group-pool-by-tag-models"]});
YUI.add("group-contributor-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{nsid:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},dateJoined:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},serialize:function(e){return e.format("X")},deserialize:function(t){return e.moment(t,"X")}},groupDiscussionCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},groupPhotoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},rank:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},realname:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},username:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoId:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoTitle:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},avatarUrl:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoUrl:{readOnly:!0,derivedBy:["contributorUrl","latestPhotoId"],getter:function(e,t){return this.getValue(t,"latestPhotoId")?this.getValue(t,"contributorUrl")+this.getValue(t,"latestPhotoId")+"/":!1}},displayname:{readOnly:!0,derivedBy:["username"],getter:function(e,t){return this.getValue(t,"username")}},contributorUrl:{readOnly:!0,derivedBy:["id","pathAlias"],getter:function(e,t){return"/photos/"+(this.getValue(t,"pathAlias")||this.getValue(t,"nsid"))+"/"}},isPro:{defaultValue:!1,setter:function(t){return e.AttributeHelpers.coerceBoolean(t)}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","attribute-helpers"]});
YUI.add("flickr-groups-getTopContributors-fetcher",function(e,t){"use strict";function n(e){var t={group_id:e.id,type:"all",extras:"include_viewer,is_pro"};return t}function r(e,t){var n=e[0],r=e[1],s=e[2],o,u,a;return u={photoContributors:[],discussionContributors:[],id:t.id},n&&n.contributors&&[{k:"photos",v:"photoContributors"},{k:"discussions",v:"discussionContributors"}].forEach(function(e){n.contributors[e.k]&&(o=n.contributors[e.k],o.contributor&&o.contributor.forEach(function(n){a=i(n,t.id),u[e.v].push(s.addOrUpdate(a))}))}),n&&n.viewer&&n.viewer.length!==0?(a=i(n.viewer,t.id),u.viewer=s.addOrUpdate(a)):u.viewer=null,r.addOrUpdate(u),r.proxy(u.id)}function i(t,n){var r={id:t.id+"-"+n,nsid:t.id,dateJoined:t.dateJoined?e.moment(t.dateJoined.toString(),"X"):e.moment(),groupDiscussionCount:t.groupDiscussionCount,groupPhotoCount:t.groupPhotoCount,pathAlias:t.pathAlias,rank:t.rank,realname:t.realname,username:t.username,isPro:t.isPro,avatarUrl:e.URLHelper.getBuddyIconURL(t.id,t.iconfarm,t.iconserver)};return t.latestPhoto&&(r.latestPhotoId=t.latestPhoto.id,r.latestPhotoTitle=t.latestPhoto.name),r}function s(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.getTopContributors",this._processParams(n),!0),r.getModelRegistry("group-top-contributors-models"),r.getModelRegistry("group-contributor-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-getTopContributors"]={run:s,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper","moment","url-helper"],optional:["group-top-contributors-models","group-contributor-models"]});
YUI.add("group-top-contributors-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){var n=this;return e.ModelFetchers["flickr-groups-getTopContributors"].run(t,this.appContext).then(function(e){return n})}},attributes:{viewer:{isModel:!0,defaultValue:null},contributors:{isCollection:!0},photoContributors:{isCollection:!0},discussionContributors:{isCollection:!0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-getTopContributors-fetcher","attribute-helpers"]});
YUI.add("group-pool-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-groups-pools-getPhotos"].run(t,this.appContext)},addPhoto:function(t,n){return t.registryName=this.name,e.ModelCreators["flickr-groups-pools-add"].run(t,n)},removePhoto:function(t,n){return t.registryName=this.name,e.ModelDeletors["flickr-groups-pools-remove"].run(t,n)},invitePhoto:function(t,n){return e.ModelCreators["flickr-groups-invite-photo-invite"].run(t,n)},cancelPhotoInvitation:function(t,n){return e.ModelDeletors["flickr-groups-invite-photo-cancel"].run(t,n)}},addPhotoLocal:function(e,t){return this.getValue(e,"photoPageList").unshift(t),this.getValue(e,"photoContextList").hasMaxBoundary()&&this.getValue(e,"photoContextList").appendToList(t),this},addPhotoRemote:function(e,t){return this.remote.addPhoto.call(this,{photoID:t,groupID:e},this.appContext)},removePhotoLocal:function(e,t){return this.getValue(e,"photoPageList").removeFromList(t.getValue("id")),this.getValue(e,"photoContextList").removeFromList(t.getValue("id")),this},removePhotoRemote:function(e,t){return this.remote.removePhoto.call(this,{photoID:t,groupID:e},this.appContext)},invitePhotoRemote:function(e,t){return this.remote.invitePhoto.call(this,{photoID:t,groupID:e},this.appContext)},cancelPhotoInvitationRemote:function(e,t){return this.remote.cancelPhotoInvitation.call(this,{photoID:t,groupID:e},this.appContext)},hasPhoto:function(e,t){return this.getValue(e,"photoPageList").getFromListByID(t)||this.getValue(e,"photoContextList").getFromListByID(t)},attributes:{displayType:{readOnly:!0,defaultFn:function(){return"group"}},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultFn:function(e){return e}},photoPageList:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-groups-pools-getPhotos"]}},photoContextList:{isListProxy:!0,contextFetch:{listFetcher:e.ListFetchers["flickr-groups-pools-getContext"],listItemIdField:"photoId"}},group:{isModel:!0},urlSuffix:{readOnly:!0,derivedBy:["pathAlias"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"pool-"+t}},url:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("url")}},title:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("title")}},poolCount:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("poolCount")}},filteredPoolCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return this.getValue(e,"group").getValue("poolCount")}},friendlyPoolCount:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("friendlyPoolCount")}}}},{buildCompoundId:function(e,t){return e+"-"+t},extractGroupFromCompoundId:function(e){return e.split("-")[0]}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-pools-getContext-fetcher","flickr-groups-pools-getPhotos-fetcher","flickr-groups-pools-add-creator","flickr-groups-pools-remove-deletor","flickr-groups-invite-photo-invite-creator","flickr-groups-invite-photo-cancel-deletor","attribute-helpers"],optional:["group-top-contributors-models"]});
YUI.add("flickr-groups-pools-getGroups-fetcher",function(e,t){"use strict";function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=r.groups,a=n.id,f={},l=[];if(u)return u.group&&e.Array.each(u.group,function(e,t){var n,r,i;i=o.parseGroupModel(e.id,e.pathAlias,e),n=o.addOrUpdate(i),r=s.addOrUpdate({id:e.id,pathAlias:e.pathAlias,group:n}),l.push(r)}),f={id:a,memberCount:r.userGroupMemberships?r.userGroupMemberships.member:null,moderatorCount:r.userGroupMemberships?r.userGroupMemberships.moderator:null,adminCount:r.userGroupMemberships?r.userGroupMemberships.admin:null,invitedCount:r.userGroupMemberships?r.userGroupMemberships.invited:null},f.groups=e.APIHelper.response.addOrReplaceListByPage({current:i.exists(a)?i.proxy(a).getValue("groups").getList():[],perPage:n.perPage,pageNum:n.page,totalItems:r.groups.total,newPages:l}),i.exists(a)?i.setValue(a,"groups",f.groups):i.add(f),f.groups}function r(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.pools.getGroups",{extras:e.APIHelper.request.getRebootGroupExtras()+", icon_urls, needs_interstitial",page:n.page||0,per_page:n.perPage||400},!0),r.getModelRegistry("person-groups-models"),r.getModelRegistry("group-pool-models"),r.getModelRegistry("group-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getGroups"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["person-groups-models","group-models","group-pool-models","person-models"]});
YUI.add("flickr-groups-fave-fetcher",function(e,t){"use strict";function n(e){}function r(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.fave",n),r.getModelRegistry("person-groups-models")]).then(i._processResponse,e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-fave"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","flickr-promise"],optional:["person-groups-models","api-helper"]});
YUI.add("flickr-groups-unfave-fetcher",function(e,t){"use strict";function n(e){}function r(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.unfave",n),r.getModelRegistry("person-groups-models")]).then(i._processResponse,e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-unfave"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","flickr-promise"],optional:["person-groups-models","api-helper"]});
YUI.add("flickr-people-getGroupsWithStatus-fetcher",function(e,t){"use strict";function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=r.groups,a=n.id,f,l={},c=[];if(u)return e.Array.each(u,function(t,r){var i,u,a,l=s.parseGroupModel(n.id,n.pathAlias,t);i=s.addOrUpdate(l),c.push(i),t.viewDates?(t.viewDates.pool!=="0"?u=e.moment(t.viewDates.pool,"X"):u=o.getDefaultViewedDate(),t.viewDates.discussions!=="0"?a=e.moment(t.viewDates.discussions,"X"):a=o.getDefaultViewedDate(),a.isValid()||(a=o.getDefaultViewedDate()),u.isValid()||(u=o.getDefaultViewedDate())):(u=o.getDefaultViewedDate(),a=o.getDefaultViewedDate()),f={id:l.id,viewedPool:u,viewedDiscussions:a,group:i},o.addOrUpdate(f)}),l={id:a,memberCount:r.members?r.members:null,moderatorCount:0,adminCount:0,invitedCount:0},l[n.attribute]=c,i.exists(a)?i.setValue(a,n.attribute,l[n.attribute]):i.add(l),l[n.attribute]}function r(n,r){var i=this,s={extras:e.APIHelper.request.getRebootGroupExtras()+", icon_urls, date_activity, date_last_viewed",user_id:n.id,status:n.status};return n.id!==r.getViewer().nsid&&(s.public_only=1,s.status="2,3,4"),e.Promise.all([r.callAPI("flickr.people.getGroupsWithStatus",s,!0),r.getModelRegistry("person-groups-models"),r.getModelRegistry("group-models"),r.getModelRegistry("group-activity-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-people-getGroupsWithStatus"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["person-groups-models","group-models"]});
YUI.add("person-groups-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-people-getInfo"].run(t,this.appContext)},faveGroup:function(t,n){return e.ModelFetchers["flickr-groups-fave"].run(t,n)},unfaveGroup:function(t,n){return e.ModelFetchers["flickr-groups-unfave"].run(t,n)}},faveGroup:function(e){var t=this,n=e.group_id,r=e.user_id;return this.remote.faveGroup(e,this.appContext).then(null,function(){t.appContext.getModel("group-models",n).then(function(e){t.getValue(r,"groupsFaved").removeFromList(n)})}),this.appContext.getModel("group-models",n).then(function(e){t.getValue(r,"groupsFaved").appendToList(e)})},unfaveGroup:function(e){var t=e.group_id,n=e.user_id,r=this;return this.remote.unfaveGroup(e,this.appContext).then(null,function(){r.appContext.getModel("group-models",t).then(function(e){r.getValue(n,"groupsFaved").appendToList(e)})}),this.appContext.getModel("group-models",t).then(function(e){r.getValue(n,"groupsFaved").removeFromList(t)})},attributes:{id:{},memberCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},moderatorCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},adminCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},invitedCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},groups:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-groups-pools-getGroups"]}},groupsAdministered:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-people-getGroupsWithStatus"]}},groupsModerated:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-people-getGroupsWithStatus"]}},groupsBelongingTo:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-people-getGroupsWithStatus"]}},groupsFaved:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-people-getGroupsWithStatus"]}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-pools-getGroups-fetcher","flickr-people-getInfo-fetcher","flickr-groups-fave-fetcher","flickr-groups-unfave-fetcher","flickr-people-getGroupsWithStatus-fetcher"]});
YUI.add("flickr-photos-getContext-fetcher",function(e,t){"use strict";function n(t,n){var r;return r={photo_id:t.photoId,num_prev:t.numNext,num_next:t.numPrev,extras:e.APIHelper.request.getRebootPhotoExtras()},t.viewAs&&(r.view_as=t.viewAs),t.orderBy&&(r.order_by=t.orderBy),r}function r(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=[],f=[],l=s.proxy(n.photoId),c=l.getValue("owner"),h,p,d,v,m,g,y=[];return h=r.prevphotos,p=r.nextphotos,f=e.APIHelper.response.parsePhotos({photos:h.photo,existingPerson:c,photoModelRegistry:s,photoEngagementModelRegistry:o,photoStatsModelRegistry:u}),a=e.APIHelper.response.parsePhotos({photos:p.photo,existingPerson:c,photoModelRegistry:s,photoEngagementModelRegistry:o,photoStatsModelRegistry:u}),v=i.getValue(n.id,"photoContextList"),m=v.hasMinBoundary?v.hasMinBoundary():!1,g=v.hasMaxBoundary?v.hasMaxBoundary():!1,d=v.getList(),y=e.APIHelper.response.addOrReplaceListByContext({model:l,next:f,prev:a.reverse(),hasMin:m,hasMax:g,current:d,numNext:n.numNext,numPrev:n.numPrev}),i.setValue(n.id,"photoContextList",y),{next:f,previous:a.reverse()}}function i(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.photos.getContext",this._processParams(n,r),!0),r.getModelRegistry("photostream-models"),r.getModelRegistry("photo-models"),r.getModelRegistry("photo-engagement-models"),r.getModelRegistry("photo-stats-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-photos-getContext"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photostream-models","photo-models","photo-engagement-models","photo-stats-models"]});
